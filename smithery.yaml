name: tt-leave-manager-mcp
description: Secure employee management system with API key authentication for company data protection.
version: 1.16.1

build:
  type: docker
  dockerfile: Dockerfile

startCommand:
  type: http
  transport: streamable-http
  command: ["python", "main.py"]
  port: 8080
  path: "/mcp"

# Scanner configuration for tool discovery
scanner:
  discoveryUrl: "/.well-known/mcp/tools"
  authentication:
    type: api_key
    methods:
      - type: bearer
        header: Authorization
      - type: header  
        name: X-API-Key
      - type: query
        name: api_key

configSchema:
  type: object
  required: ["DB_HOST", "DB_USER", "DB_PASSWORD", "DB_NAME", "API_KEYS"]
  properties:
    DB_HOST:
      type: string
      title: "Database Host"
      description: "MySQL database host address"
      default: "103.174.10.72"
    DB_USER:
      type: string
      title: "Database User"
      description: "MySQL database username"
      default: "tt_crm_mcp"
    DB_PASSWORD:
      type: string
      title: "Database Password"
      description: "MySQL database password"
      default: "F*PAtqhu@sg2w58n"
    DB_NAME:
      type: string
      title: "Database Name"
      description: "MySQL database name"
      default: "tt_crm_mcp"
    DB_PORT:
      type: string
      title: "Database Port"
      description: "MySQL database port"
      default: "3306"
    API_KEYS:
      type: string
      title: "API Keys"
      description: "Comma-separated API keys for authentication (generate with: openssl rand -hex 32)"
      default: "c1e3bfa97d3425cb986eb382b330bc86d5afe3181e20fe1e2c74587ac3c92b5c"
    REQUIRE_API_KEY:
      type: boolean
      title: "Require API Key"
      description: "Enable API key authentication"
      default: true
    SCANNER_MODE:
      type: boolean
      title: "Scanner Mode"
      description: "Temporarily disable authentication for Smithery scanning"
      default: false
    MCP_TRANSPORT:
      type: string
      title: "MCP Transport"
      description: "Transport protocol for MCP server"
      default: "streamable-http"
    PORT:
      type: string
      title: "Server Port"
      description: "Port number for the MCP server"
      default: "8080"